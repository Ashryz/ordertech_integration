<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="product_pos_category_search_view_inherit" model="ir.ui.view">
        <field name="name">product.pos.category.search.view.inherit</field>
        <field name="model">pos.category</field>
        <field name="arch" type="xml">
            <search>
              <filter name="categ_to_sync" string="To-Sync" domain="[('ordertech_categId','=', False)]"/>
            </search>
        </field>
    </record>
    <record id="product_pos_category_form_view_inherit" model="ir.ui.view">
        <field name="name">product.pos.category.form.view.inherit</field>
        <field name="model">pos.category</field>
        <field name="inherit_id" ref="point_of_sale.product_pos_category_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//group/field[@name='parent_id']" position="before">
                <field name="company_id"/>
                <field name="ordertech_categId" readonly="1" invisible="not ordertech_categId"/>
            </xpath>
        </field>
    </record>
    <record id="product_pos_category_tree_view_inherit" model="ir.ui.view">
        <field name="name">product.pos.category.tree.view.inherit</field>
        <field name="model">pos.category</field>
        <field name="inherit_id" ref="point_of_sale.product_pos_category_tree_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='sequence']" position="before">
                <header>
                    <button name="sync_data_to_ordertech" string="Sync OrderTech" type="object"/>
                </header>
            </xpath>
            <xpath expr="//field[@name='display_name']" position="after">
                <field name="company_id" string="Restaurant"/>
                <field name="ordertech_categId" string="OrderTech CategoryId"/>
            </xpath>
        </field>
    </record>
    <record id="ordertech_category_action" model="ir.actions.act_window">
        <field name="name">Categories</field>
        <field name="res_model">pos.category</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="product_pos_category_search_view_inherit"/>
        <field name="context">{'search_default_categ_to_sync':1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No Data to sync Found!
            </p>
        </field>
    </record>
    <menuitem id="ordertech_menu_root_menu"
              name="Menu"
              sequence="3"
              parent="ordertech_root"/>
    <menuitem id="ordertech_category_menu"
              name="Categories"
              sequence="1"
              parent="ordertech_menu_root_menu"
              action="ordertech_category_action"/>

</odoo>